# Debugging Missing Recent Posts

If you notice that recent reposts are missing from the scraped output, use these debugging tools to investigate.

## Quick Debug Script

Run the standalone debug script to analyze what's on the page:

```bash
python debug_scraper.py visual_intelligent
```

This will:
- Open the Threads reposts page in a browser
- Show how many posts are found
- Display the first 5 posts with their content
- Show timestamps found
- Test if scrolling loads more posts
- Take a screenshot for analysis
- Keep the browser open so you can manually inspect

## Debug Mode in Main Scraper

Run the main scraper with debug logging:

```bash
python -m src.main visual_intelligent --debug --log-level DEBUG
```

This will:
- Show detailed logs of what elements are found
- Log the date range of scraped posts
- Help identify where the process is failing

## Common Issues & Solutions

### Issue 1: Login Required
**Symptom**: Redirected to /login page
**Solution**: Delete `session.json` and run without `--headless` to login again

### Issue 2: Recent Posts Not Loaded
**Symptom**: Only old posts in output, recent ones missing
**Possible Causes**:
- Infinite scroll not loading all content (increase `--wait-time` and `--max-retries`)
- Threads displaying posts in unusual order
- Rate limiting or content filtering

**Try**:
```bash
python -m src.main visual_intelligent --wait-time 5 --max-retries 5 --log-level DEBUG
```

### Issue 3: No Posts Found
**Symptom**: 0 posts in output
**Possible Causes**:
- Selectors don't match current Threads HTML structure
- Page didn't load fully
- Account is private or has no reposts

**Try**: Run debug script to see what's on the page

### Issue 4: Text Content Missing
**Symptom**: Posts have only usernames, no actual content
**Solution**: This was fixed in the latest version. Make sure you've updated:
```bash
git pull
```

## What to Check Manually

When the debug script opens the browser:

1. **Check if recent posts are visible** - Are today's reposts shown on the page?
2. **Check post order** - Are newest posts at top or bottom?
3. **Check scroll behavior** - Does scrolling down load more posts?
4. **Check for errors** - Are there any error messages on the page?

## Reporting Issues

If you find issues, please note:
- What posts are visible in the browser
- What posts are in the scraped file
- The date range of missing posts
- Any error messages in the logs
- The screenshot generated by debug script
